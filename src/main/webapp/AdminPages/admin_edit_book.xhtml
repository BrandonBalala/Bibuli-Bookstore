<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="./admin_template.xhtml">
        <ui:define name="title">
            <h:outputText value="Edit A Book"></h:outputText>
        </ui:define>

        <ui:define name="body">
            <section class="content-header">
                <h1>
                    Edit A Book 
                </h1>

                <ol class="breadcrumb">
                    <li><a href="admin_home.xhtml"><i class="fa fa-dashboard"></i> Home</a></li>
                    <li><a href="admin_books.xhtml"><i class="fa fa-dashboard"></i> Inventory</a></li>
                    <li><a href="#"><i class="fa fa-dashboard"></i> Edit</a></li>
                </ol>
            </section>
            <section class="content">
                <div class="row">
                    <div class="col-xs-12">
                        <h:form >
                            <h:inputHidden id="book_id" value="#{booksBB.selectedBook.id}" />
<!--                            <h:panelGrid columns="3" >
                                <h:outputLabel value="Identifiers type" for="identiType"></h:outputLabel>
                                <p:selectCheckboxMenu id="identiType" value="#{booksBB.selectedBook.bookIdentifiersList}" label="Identifier type" scrollHeight="150"
                                                      filter="true" filterMatchMode="startsWith" panelStyle="width:250px" converter="com.g4w16.jsf.util.IdentifierConverter">
                                    <f:selectItems value="#{booksBB.allBookIdentifiers}" />
                                </p:selectCheckboxMenu>
                                <p:commandLink value="Submit" update="identiDisplay" />
                            </h:panelGrid>

                            <p:outputPanel id="identiDisplay" style="width:250px;padding-left:5px;margin-top:10px">
                                <p:dataList value="#{booksBB.selectedBook.bookIdentifiersList}" var="type">
                                    #{type.identifierType}
                                </p:dataList>
                            </p:outputPanel>-->

                            <h:panelGrid columns="3" >
                                <h:outputLabel value="isbn" for="isbn"></h:outputLabel>
                                <p:outputLabel id="isbn" value="#{booksBB.selectedBook.bookIdentifiers}"/>
                                <h:inputHidden/>


                                <h:outputLabel value="title" for="title"></h:outputLabel>
                                <p:inputText id="title" value="#{booksBB.selectedBook.title}" />
                                <h:message for="title" errorStyle="color:red; display:block"/>

                                <h:outputLabel value="publisher" for="publisher"></h:outputLabel>
                                <p:inputText id="publisher" value="#{booksBB.selectedBook.publisher}" />
                                <h:message for="publisher" errorStyle="color:red; display:block"/>

                                <h:outputLabel value="publish_date" for="publish_date"></h:outputLabel>
                                <p:calendar id="publish_date" value="#{booksBB.selectedBook.pubDate}" />
                                <h:message for="publish_date" errorStyle="color:red; display:block"/>

                                <h:outputLabel value="page_number" for="page_number"></h:outputLabel>
                                <p:inputText id="page_number" value="#{booksBB.selectedBook.pages}" />
                                <h:message for="page_number" errorStyle="color:red; display:block"/>

                                <h:outputLabel value="wholesale price" for="wholesale_price"></h:outputLabel>
                                <p:inputText id="whole_price" value="#{booksBB.selectedBook.wholesalePrice}" />
                                <h:message for="wholesale_price" errorStyle="color:red; display:block"/>

                                <h:outputLabel value="list price" for="list_price"></h:outputLabel>
                                <p:inputText id="list_price" value="#{booksBB.selectedBook.listPrice}" />
                                <h:message for="list_price" errorStyle="color:red; display:block"/>

                                <h:outputLabel value="sale price" for="book_sale_price"></h:outputLabel>
                                <p:inputText id="book_sale_price" value="#{booksBB.selectedBook.salePrice}" />
                                <h:message for="book_sale_price" errorStyle="color:red; display:block"/>

                                <h:outputLabel value="removal Status" for="available"></h:outputLabel>
                                <p:selectOneRadio id="available" layout="lineDirection" value="#{booksBB.selectedBook.removalStatus}">
                                    <f:selectItem itemValue="True" itemLabel="True" />
                                    <f:selectItem itemValue="False" itemLabel="False" />
                                </p:selectOneRadio>
                                <h:message for="available" errorStyle="color:red; display:block"/>
                            </h:panelGrid>


                            <h:panelGrid columns="3">
                                <h:outputLabel for="genre" value="genre" />
                                <p:selectCheckboxMenu id="genre" value="#{booksBB.selectedBook.genreList}" label="genre" scrollHeight="150"
                                                      filter="true" filterMatchMode="startsWith" panelStyle="width:250px" converter="com.g4w16.jsf.util.GenreConverter">
                                    <f:selectItems value="#{booksBB.allGenre}"/>
                                </p:selectCheckboxMenu>           
                                <p:commandLink value="Submit" update="genreDisplay" />
                            </h:panelGrid>

                            <p:outputPanel id="genreDisplay" style="width:250px;padding-left:5px;margin-top:10px">
                                <p:dataList value="#{booksBB.selectedBook.genreList}" var="genre">
                                    #{genre}
                                </p:dataList>
                            </p:outputPanel>
                            <br />

                            <br />
                            <h:panelGrid columns="3">
                                <h:outputLabel for="format" value="formats" />
                                <p:selectCheckboxMenu id="format" value="#{booksBB.selectedBook.bookFormatsList}" label="format" scrollHeight="150"
                                                      filter="true" filterMatchMode="startsWith" panelStyle="width:250px" converter="com.g4w16.jsf.util.FormatConverter">
                                    <f:selectItems value="#{booksBB.allBookFormats}" var="f" itemLabel="#{f.format1}" itemValue="#{f}"/>
                                </p:selectCheckboxMenu>
                                <p:commandLink value="Submit" update="formatDisplay" />
                            </h:panelGrid>

                            <p:outputPanel id="formatDisplay" style="width:250px;padding-left:5px;margin-top:10px">
                                <p:dataList value="#{booksBB.selectedBook.bookFormatsList}" var="format">
                                    #{format.format1}
                                </p:dataList>
                            </p:outputPanel>
                            <br />


                            <h:panelGrid columns="3">
                                <h:outputLabel for="author" value="author" />
                                <p:selectCheckboxMenu id="author" value="#{booksBB.selectedBook.contributorList}" label="author" scrollHeight="150"
                                                      filter="true" filterMatchMode="startsWith" panelStyle="width:250px" converter="com.g4w16.jsf.util.AuthorConverter">
                                    <f:selectItems value="#{booksBB.allAuthors}" var="a" itemLabel="#{a.name}" itemValue="#{a}" />
                                </p:selectCheckboxMenu>
                                <p:commandLink value="Submit" update="authorDisplay" />
                            </h:panelGrid>

                            <p:outputPanel id="authorDisplay" style="width:250px;padding-left:5px;margin-top:10px">
                                <p:dataList value="#{booksBB.selectedBook.contributorList}" var="author">
                                    #{author.name}
                                </p:dataList>
                            </p:outputPanel>

                            <h:panelGrid columns="3">
                                <h:outputLabel value="Description" for="description"></h:outputLabel>
                                <p:inputTextarea id="sale_price" value="#{booksBB.selectedBook.description}" />
                                <h:message for="description" errorStyle="color:red; display:block"/>
                            </h:panelGrid>
                            <br />
                            <p:commandButton value="update"
                                             action="#{booksBB.updateBook()}" class="btn btn-success btn-xs" />
                            <h:outputText value="&#160;" />
                            <p:commandButton value="cancel"
                                             action="#{booksBB.cancel()}" class="btn btn-danger btn-xs" immediate="true"/>
                        </h:form>
                    </div>
                </div>
            </section>

        </ui:define>
    </ui:composition>
</html>