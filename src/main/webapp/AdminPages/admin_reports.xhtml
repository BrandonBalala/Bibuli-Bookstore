<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="admin_template.xhtml">
        <ui:define name="title">
            <h:outputText value="Admin Reports"></h:outputText>
        </ui:define>
        <ui:define name="body">
            <section class="content-header">
                <h1>
                    Report 
                </h1>

                <ol class="breadcrumb">
                    <li><a href="admin_home.xhtml"><i class="fa fa-dashboard"></i> Home</a></li>
                    <li><a href="#"><i class="fa fa-dashboard"></i> Report</a></li>
                </ol>
            </section>

            <section class="content">
                <div class="row">
                    <div class="col-xs-12">


                        <h:form id="form">

                            <h:panelGrid columns="4" cellpadding="20">
                                <p:outputLabel for="startDate" value="Start Date:" />
                                <p:calendar id="startDate" value="#{reportBB.startDate}"/>

                                <p:outputLabel for="endDate" value="End Date:" />
                                <p:calendar id="endDate" value="#{reportBB.endDate}" />
                            </h:panelGrid>

                            <p:tabView scrollable="true">
                                <p:tab title="Total Sales">
                                    <p:commandButton value="Get Report" update="totalSalesTable" icon="ui-icon-check" />

                                    <p:dataTable id="totalSalesTable" var="totalSale" value="#{reportBB.totalSales}"
                                                 rows="10" paginator="true"
                                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}">
                                        <p:column headerText="Book Id">
                                            <h:outputText value="#{totalSale[0]}" />
                                        </p:column>

                                        <p:column headerText="Book Title">
                                            <h:outputText value="#{totalSale[1]}" />
                                        </p:column>

                                        <p:column headerText="Total Sales">
                                            <h:outputText value="#{totalSale[2]}" />
                                        </p:column>

                                        <p:column headerText="Total Cost">
                                            <h:outputText value="#{totalSale[3]}" />
                                        </p:column>

                                        <p:column headerText="Total Profit">
                                            <h:outputText value="#{totalSale[4]}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>

                                <p:tab title="Sales by Client">
                                    <h:panelGrid columns="3" cellpadding="20">
                                        <p:outputLabel for="clientId" value="Client ID:" />
                                        <p:inputText id="clientId" value="#{reportBB.clientId}" />

                                        <p:commandButton value="Get Report" update="salesByClientTable" icon="ui-icon-check" />
                                    </h:panelGrid>

                                    <p:dataTable id="salesByClientTable" var="salesByClient" value="#{reportBB.salesByClient}" 
                                                 rows="10" paginator="true"
                                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}">
                                        <p:column headerText="Book Id">
                                            <h:outputText value="#{salesByClient[0]}" />
                                        </p:column>

                                        <p:column headerText="Book Title">
                                            <h:outputText value="#{salesByClient[1]}" />
                                        </p:column>

                                        <p:column headerText="Total Sales">
                                            <h:outputText value="#{salesByClient[2]}" />
                                        </p:column>

                                        <p:column headerText="Total Cost">
                                            <h:outputText value="#{salesByClient[3]}" />
                                        </p:column>

                                        <p:column headerText="Total Profit">
                                            <h:outputText value="#{salesByClient[4]}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>

                                <p:tab title="Sales by Contributor">
                                    <h:panelGrid columns="3" cellpadding="20">
                                        <p:outputLabel for="contributorName" value="Contributor Name:" />
                                        <p:inputText id="contributorName" value="#{reportBB.contributorName}" />

                                        <p:commandButton value="Get Report" update="salesByContributorTable" icon="ui-icon-check" />
                                    </h:panelGrid>

                                    <p:dataTable id="salesByContributorTable" var="salesByContributor" value="#{reportBB.salesByContributor}"
                                                 rows="10" paginator="true"
                                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}">
                                        <p:column headerText="Book Id">
                                            <h:outputText value="#{salesByContributor[0]}" />
                                        </p:column>

                                        <p:column headerText="Book Title">
                                            <h:outputText value="#{salesByContributor[1]}" />
                                        </p:column>

                                        <p:column headerText="Total Sales">
                                            <h:outputText value="#{salesByContributor[2]}" />
                                        </p:column>

                                        <p:column headerText="Total Cost">
                                            <h:outputText value="#{salesByContributor[3]}" />
                                        </p:column>

                                        <p:column headerText="Total Profit">
                                            <h:outputText value="#{salesByContributor[4]}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>

                                <p:tab title="Sales by Publisher">
                                    <h:panelGrid columns="3" cellpadding="20">
                                        <p:outputLabel for="publisherName" value="Publisher Name:" />
                                        <p:inputText id="publisherName" value="#{reportBB.publisherName}" />

                                        <p:commandButton value="Get Report" update="salesByPublisherTable" icon="ui-icon-check" />
                                    </h:panelGrid>

                                    <p:dataTable id="salesByPublisherTable" var="salesByPublisher" value="#{reportBB.salesByPublisher}"
                                                 rows="10" paginator="true"
                                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}">
                                        <p:column headerText="Book Id">
                                            <h:outputText value="#{salesByPublisher[0]}" />
                                        </p:column>

                                        <p:column headerText="Book Title">
                                            <h:outputText value="#{salesByPublisher[1]}" />
                                        </p:column>

                                        <p:column headerText="Total Sales">
                                            <h:outputText value="#{salesByPublisher[2]}" />
                                        </p:column>

                                        <p:column headerText="Total Cost">
                                            <h:outputText value="#{salesByPublisher[3]}" />
                                        </p:column>

                                        <p:column headerText="Total Profit">
                                            <h:outputText value="#{salesByPublisher[4]}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>

                                <p:tab title="Top Sellers">
                                    <p:commandButton value="Get Report" update="topSellersTable" icon="ui-icon-check" />

                                    <p:dataTable id="topSellersTable" var="topSeller" value="#{reportBB.topSellers}"
                                                 rows="10" paginator="true"
                                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}">
                                        <p:column headerText="Book Id">
                                            <h:outputText value="#{topSeller[0]}" />
                                        </p:column>

                                        <p:column headerText="Book Title">
                                            <h:outputText value="#{topSeller[1]}" />
                                        </p:column>

                                        <p:column headerText="Total Sales">
                                            <h:outputText value="#{topSeller[2]}" />
                                        </p:column>

                                        <p:column headerText="Total Cost">
                                            <h:outputText value="#{topSeller[3]}" />
                                        </p:column>

                                        <p:column headerText="Total Profit">
                                            <h:outputText value="#{topSeller[4]}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>

                                <p:tab title="Top Clients">
                                    <p:commandButton value="Get Report" update="topClientsTable" icon="ui-icon-check" />

                                    <p:dataTable id="topClientsTable" var="topClients" value="#{reportBB.topClients}"
                                                 rows="10" paginator="true"
                                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}">
                                        <p:column headerText="Client Id">
                                            <h:outputText value="#{topClients[0]}" />
                                        </p:column>

                                        <p:column headerText="First Name">
                                            <h:outputText value="#{topClients[1]}" />
                                        </p:column>

                                        <p:column headerText="Last Name">
                                            <h:outputText value="#{topClients[2]}" />
                                        </p:column>

                                        <p:column headerText="Total Sales">
                                            <h:outputText value="#{topClients[3]}" />
                                        </p:column>

                                        <p:column headerText="Total Cost">
                                            <h:outputText value="#{topClients[4]}" />
                                        </p:column>

                                        <p:column headerText="Total Profit">
                                            <h:outputText value="#{topClients[5]}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>

                                <p:tab title="Zero Sales">
                                    <p:commandButton value="Get Report" update="zeroSalesTable" icon="ui-icon-check" />

                                    <p:dataTable id="zeroSalesTable" var="zeroSales" value="#{reportBB.zeroSales}"
                                                 rows="10" paginator="true"
                                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}">
                                        <p:column headerText="Book Id">
                                            <h:outputText value="#{zeroSales[0]}" />
                                        </p:column>

                                        <p:column headerText="Book Title">
                                            <h:outputText value="#{zeroSales[1]}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>

                            </p:tabView>
                        </h:form>
                    </div>
                </div>
            </section>

        </ui:define>
    </ui:composition>
</html>