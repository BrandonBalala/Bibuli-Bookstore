<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="admin_template.xhtml">
        <ui:define name="title">
            <h:outputText value="Admin Reports"></h:outputText>
        </ui:define>

        <ui:define name="body">
            <section class="content-header">
                <h1>
                    Report 
                </h1>

                <ol class="breadcrumb">
                    <li><a href="admin_home.xhtml"><i class="fa fa-dashboard"></i> Home</a></li>
                    <li><a href="#"><i class="fa fa-dashboard"></i> Report</a></li>
                </ol>
            </section>

            <section class="content">
                <div class="row">
                    <div class="col-xs-12">
                        <h:form id="form">

                            <p:outputLabel for="startDate" value="Start Date:" />
                            <p:calendar id="startDate" value="#{reportBB.startDate}"/>

                            <p:outputLabel for="endDate" value="End Date:" />
                            <p:calendar id="endDate" value="#{reportBB.endDate}" />

                            <p></p>
                            <p:tabView scrollable="true">

                                <p:tab title="Total Sales">
                                    <p:commandButton value="Get Report" update="totalSalesTable totalSalesTotalSales totalSalesTotalCost totalSalesTotalProfit" icon="ui-icon-check" />
                                    <p></p>

                                    <p:outputLabel value="Total Sales: "/>
                                    <h:outputText id="totalSalesTotalSales" value="#{reportBB.totalSalesTotalSales}"/>
                                    <br/>
                                    <p:outputLabel value="Total Cost: "/>
                                    <h:outputText id="totalSalesTotalCost" value="#{reportBB.totalSalesTotalCost}"/>
                                    <br/>
                                    <p:outputLabel value="Total Profit: "/>
                                    <h:outputText id="totalSalesTotalProfit" value="#{reportBB.totalSalesTotalProfit}"/>

                                    <p:dataTable id="totalSalesTable" var="totalSale" value="#{reportBB.totalSales}"
                                                 rows="10" paginator="true"
                                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}">
                                        <p:column headerText="Book Id">
                                            <h:outputText value="#{totalSale[0]}" />
                                        </p:column>

                                        <p:column headerText="Book Title">
                                            <h:outputText value="#{totalSale[1]}" />
                                        </p:column>

                                        <p:column headerText="Total Sales">
                                            <h:outputText value="#{totalSale[2]}" />
                                        </p:column>

                                        <p:column headerText="Total Cost">
                                            <h:outputText value="#{totalSale[3]}" />
                                        </p:column>

                                        <p:column headerText="Total Profit">
                                            <h:outputText value="#{totalSale[4]}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>

                                <p:tab title="Sales by Client">

                                    <p:outputLabel for="clientId" value="Client ID:" />
                                    <p:inputText id="clientId" value="#{reportBB.clientId}" />

                                    <p:commandButton value="Get Report" update="salesByClientTable salesByClientTotalSales salesByClientTotalCost salesByClientTotalProfit" icon="ui-icon-check" />
                                    <p></p>

                                    <p:outputLabel value="Total Sales: "/>
                                    <h:outputText id="salesByClientTotalSales" value="#{reportBB.salesByClientTotalSales}"/>
                                    <br/>
                                    <p:outputLabel value="Total Cost: "/>
                                    <h:outputText id="salesByClientTotalCost" value="#{reportBB.salesByClientTotalCost}"/>
                                    <br/>
                                    <p:outputLabel value="Total Profit: "/>
                                    <h:outputText id="salesByClientTotalProfit" value="#{reportBB.salesByClientTotalProfit}"/>

                                    <p:dataTable id="salesByClientTable" var="salesByClient" value="#{reportBB.salesByClient}" 
                                                 rows="10" paginator="true"
                                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}">
                                        <p:column headerText="Book Id">
                                            <h:outputText value="#{salesByClient[0]}" />
                                        </p:column>

                                        <p:column headerText="Book Title">
                                            <h:outputText value="#{salesByClient[1]}" />
                                        </p:column>

                                        <p:column headerText="Total Sales">
                                            <h:outputText value="#{salesByClient[2]}" />
                                        </p:column>

                                        <p:column headerText="Total Cost">
                                            <h:outputText value="#{salesByClient[3]}" />
                                        </p:column>

                                        <p:column headerText="Total Profit">
                                            <h:outputText value="#{salesByClient[4]}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>

                                <p:tab title="Sales by Contributor">

                                    <p:outputLabel for="contributorName" value="Contributor Name:" />
                                    <p:inputText id="contributorName" value="#{reportBB.contributorName}" />

                                    <p:commandButton value="Get Report" update="salesByContributorTable salesByContributorTotalSales salesByContributorTotalCost salesByContributorTotalProfit" icon="ui-icon-check" />

                                    <p></p>

                                    <p:outputLabel value="Total Sales: "/>
                                    <h:outputText id="salesByContributorTotalSales" value="#{reportBB.salesByContributorTotalSales}"/>
                                    <br/>
                                    <p:outputLabel value="Total Cost: "/>
                                    <h:outputText id="salesByContributorTotalCost" value="#{reportBB.salesByContributorTotalCost}"/>
                                    <br/>
                                    <p:outputLabel value="Total Profit: "/>
                                    <h:outputText id="salesByContributorTotalProfit" value="#{reportBB.salesByContributorTotalProfit}"/>

                                    <p:dataTable id="salesByContributorTable" var="salesByContributor" value="#{reportBB.salesByContributor}"
                                                 rows="10" paginator="true"
                                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}">
                                        <p:column headerText="Book Id">
                                            <h:outputText value="#{salesByContributor[0]}" />
                                        </p:column>

                                        <p:column headerText="Book Title">
                                            <h:outputText value="#{salesByContributor[1]}" />
                                        </p:column>

                                        <p:column headerText="Total Sales">
                                            <h:outputText value="#{salesByContributor[2]}" />
                                        </p:column>

                                        <p:column headerText="Total Cost">
                                            <h:outputText value="#{salesByContributor[3]}" />
                                        </p:column>

                                        <p:column headerText="Total Profit">
                                            <h:outputText value="#{salesByContributor[4]}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>

                                <p:tab title="Sales by Publisher">

                                    <p:outputLabel for="publisherName" value="Publisher Name:" />
                                    <p:inputText id="publisherName" value="#{reportBB.publisherName}" />

                                    <p:commandButton value="Get Report" update="salesByPublisherTable salesByPublisherTotalSales salesByPublisherTotalCost salesByPublisherTotalProfit" icon="ui-icon-check" />

                                    <p></p>
                                    
                                    <p:outputLabel value="Total Sales: "/>
                                    <h:outputText id="salesByPublisherTotalSales" value="#{reportBB.salesByPublisherTotalSales}"/>
                                    <br/>
                                    <p:outputLabel value="Total Cost: "/>
                                    <h:outputText id="salesByPublisherTotalCost" value="#{reportBB.salesByPublisherTotalCost}"/>
                                    <br/>
                                    <p:outputLabel value="Total Profit: "/>
                                    <h:outputText id="salesByPublisherTotalProfit" value="#{reportBB.salesByPublisherTotalProfit}"/>
                                    
                                    <p:dataTable id="salesByPublisherTable" var="salesByPublisher" value="#{reportBB.salesByPublisher}"
                                                 rows="10" paginator="true"
                                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}">
                                        <p:column headerText="Book Id">
                                            <h:outputText value="#{salesByPublisher[0]}" />
                                        </p:column>

                                        <p:column headerText="Book Title">
                                            <h:outputText value="#{salesByPublisher[1]}" />
                                        </p:column>

                                        <p:column headerText="Total Sales">
                                            <h:outputText value="#{salesByPublisher[2]}" />
                                        </p:column>

                                        <p:column headerText="Total Cost">
                                            <h:outputText value="#{salesByPublisher[3]}" />
                                        </p:column>

                                        <p:column headerText="Total Profit">
                                            <h:outputText value="#{salesByPublisher[4]}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>

                                <p:tab title="Top Sellers">
                                    <p:commandButton value="Get Report" update="topSellersTable topSellersTotalSales topSellersTotalCost topSellersTotalProfit" icon="ui-icon-check" />
                                    
                                    <p></p>
                                    
                                    <p:outputLabel value="Total Sales: "/>
                                    <h:outputText id="topSellersTotalSales" value="#{reportBB.topSellersTotalSales}"/>
                                    <br/>
                                    <p:outputLabel value="Total Cost: "/>
                                    <h:outputText id="topSellersTotalCost" value="#{reportBB.topSellersTotalCost}"/>
                                    <br/>
                                    <p:outputLabel value="Total Profit: "/>
                                    <h:outputText id="topSellersTotalProfit" value="#{reportBB.topSellersTotalProfit}"/>
                                    
                                    <p:dataTable id="topSellersTable" var="topSeller" value="#{reportBB.topSellers}"
                                                 rows="10" paginator="true"
                                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}">
                                        <p:column headerText="Book Id">
                                            <h:outputText value="#{topSeller[0]}" />
                                        </p:column>

                                        <p:column headerText="Book Title">
                                            <h:outputText value="#{topSeller[1]}" />
                                        </p:column>

                                        <p:column headerText="Total Sales">
                                            <h:outputText value="#{topSeller[2]}" />
                                        </p:column>

                                        <p:column headerText="Total Cost">
                                            <h:outputText value="#{topSeller[3]}" />
                                        </p:column>

                                        <p:column headerText="Total Profit">
                                            <h:outputText value="#{topSeller[4]}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>

                                <p:tab title="Top Clients">
                                    <p:commandButton value="Get Report" update="topClientsTable topClientsTotalSales topClientsTotalCost topClientsTotalProfit" icon="ui-icon-check" />
                                    
                                    <p></p>
                                    
                                    <p:outputLabel value="Total Sales: "/>
                                    <h:outputText id="topClientsTotalSales" value="#{reportBB.topClientsTotalSales}"/>
                                    <br/>
                                    <p:outputLabel value="Total Cost: "/>
                                    <h:outputText id="topClientsTotalCost" value="#{reportBB.topClientsTotalCost}"/>
                                    <br/>
                                    <p:outputLabel value="Total Profit: "/>
                                    <h:outputText id="topClientsTotalProfit" value="#{reportBB.topClientsTotalProfit}"/>
                                    
                                    <p:dataTable id="topClientsTable" var="topClients" value="#{reportBB.topClients}"
                                                 rows="10" paginator="true"
                                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}">
                                        <p:column headerText="Client Id">
                                            <h:outputText value="#{topClients[0]}" />
                                        </p:column>

                                        <p:column headerText="First Name">
                                            <h:outputText value="#{topClients[1]}" />
                                        </p:column>

                                        <p:column headerText="Last Name">
                                            <h:outputText value="#{topClients[2]}" />
                                        </p:column>

                                        <p:column headerText="Total Sales">
                                            <h:outputText value="#{topClients[3]}" />
                                        </p:column>

                                        <p:column headerText="Total Cost">
                                            <h:outputText value="#{topClients[4]}" />
                                        </p:column>

                                        <p:column headerText="Total Profit">
                                            <h:outputText value="#{topClients[5]}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>

                                <p:tab title="Zero Sales">
                                    <p:commandButton value="Get Report" update="zeroSalesTable" icon="ui-icon-check" />
                                    
                                    <p></p>
                                                               
                                    <p:dataTable id="zeroSalesTable" var="zeroSales" value="#{reportBB.zeroSales}"
                                                 rows="10" paginator="true"
                                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}">
                                        <p:column headerText="Book Id">
                                            <h:outputText value="#{zeroSales[0]}" />
                                        </p:column>

                                        <p:column headerText="Book Title">
                                            <h:outputText value="#{zeroSales[1]}" />
                                        </p:column>
                                    </p:dataTable>
                                </p:tab>

                            </p:tabView>
                        </h:form>
                    </div>
                </div>
            </section>
        </ui:define>
    </ui:composition>
</html>